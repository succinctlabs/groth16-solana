# Example

This example demonstrates how to use the `sp1-solana` crate to verify a proof generated by SP1 on Solana.

## Overview: Script

1. Load an SP1 [`SP1ProofWithPublicValues`](https://docs.rs/sp1-sdk/2.0.0/sp1_sdk/proof/struct.SP1ProofWithPublicValues.html)
from the pre-generated proof [`fibonacci_proof.bin`](../proofs/fibonacci_proof.bin). This is a SP1 Groth16 proof that
proves that the 20th fibonacci number is 6765. Optionally, this proof can be freshly generated from
the [`sp1-program`](../sp1-program).

2. Serialize the `SP1ProofWithPublicValues` into a `SP1ProofFixture`, which is then written to
[`proof-fixtures/fibonacci_fixture.bin`](../proof-fixtures/fibonacci_fixture.bin). 

3. Using the [`solana-program-test`](https://docs.rs/solana-program-test/latest/solana_program_test/) crate, send the `SP1ProofFixture` to the 
[`fibonacci-verifier-contract`](./program). This example smart contract will verify the proof using the `sp1-solana` crate,
verify that the provided program vkey is correct, and print out the public inputs.


### Running the script

To load the pregenerated proof, serialize it to a fixture, and verify it on chain, run the following commands. 

```shell
cd script
RUST_LOG=info cargo run --release
```

To generate a fresh proof from the program in `sp1-program`, run the following commands. 

```shell
cd script
RUST_LOG=info cargo run --release -- --prove
```
